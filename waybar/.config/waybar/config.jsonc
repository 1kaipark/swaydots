// https://github.com/moktavizen/dotfiles/blob/main/waybar/.config/waybar/config.jsonc
// -*- mode: jsonc -*-
{
  //"layer": "top", // Waybar at top layer
  "height": 40,
  "modules-left": ["custom/startpanel", "group/control"],
  "modules-center": ["sway/workspaces", "sway/window"],
  "modules-right": ["tray", "group/hw", "clock", "custom/notification"],
  // Modules configuratio1

  "sway/workspaces": {
    "all-outputs": true,
    "format": "{icon}",
    "format-icons": {
      "default": "Ôí™",
      "focused": "ÔÑë",
    },
  },

  "hyprland/window": {},
  "tray": {
    "icon-size": 15,
    "spacing": 2,
  },
  "group/hw": {
    "orientation": "horizontal",
    "modules": ["cpu", "temperature", "memory", "custom/turbo"],
  },
  "cpu": {
    "format": "<span color='#b2ccd6'>Û∞çõ</span> {usage}%",
    "interval": 2,
  },
  "temperature": {
    "format": "<span color='#f07178'>Ôãâ</span> {temperatureC}Û∞îÑ",
    "interval": 2,
    "on-click": "kitty btop",
  },
  "memory": {
    "format": "<span color='#c792ea'>Û∞òö</span> {used:.2g}GB",
    "interval": 2,
    "on-click": "kitty btop",
  },
  "group/control": {
    "orientation": "horizontal",
    "modules": ["battery", "network", "bluetooth", "pulseaudio", "custom/pacman"],
  },
  "battery": {
    "states": {
      // "good": 95,
      "warning": 30,
      "critical": 15,
    },
    "format": "<span color='#c3e88d'>{icon}</span> {capacity}%",
    "format-charging": "<span color='#c3e88d'>Û±êã</span> {capacity}%",
    "format-plugged": "<span color='#c3e88d'>Ôá¶</span> {capacity}%",
    "tooltip-format": "{time} left",
    "format-icons": ["Û∞Å∫", "Û∞Åº", "Û∞Åæ", "Û∞ÇÅ", "Û∞Åπ"],
  },
  "network": {
    "format-ethernet": "<span color='#89ddff'>Û∞àÄ</span>{bandwidthDownBytes:=}",
    "format-wifi": "<span color='#89ddff'>{icon}</span> ",
    "format-disconnected": "<span color='#89ddff'>Û∞§≠</span>{bandwidthDownBytes:=}",
    "format-icons": ["Û∞§Ø", "Û∞§ü", "Û∞§¢", "Û∞§•", "Û∞§®"],
    "interval": 2,
    "tooltip-format": "{essid}",
    "on-click": "nm-applet",
    "on-click-right": "killall nm-applet",
  },
  "bluetooth": {
    "format": "<span color='#82aaff'>Ôäî</span> {status}",
    "format-connected-battery": "<span color='#82aaff'>Ôäî</span> {device_battery_percentage}%",
    "tooltip-format": "{device_alias} {status}",
    "on-click": "blueman-manager",
    "on-click-right": "killall blueman-manager",
  },
  "pulseaudio": {
    "format": "<span color='#f78c6c'>{icon}</span> {volume}%",
    "format-muted": "<span color='#f78c6c'>Û∞ñÅ</span> {volume}%",
    "format-bluetooth": "<span color='#f78c6c'>{icon}</span> {volume}%",
    "format-bluetooth-muted": "<span color='#f78c6c'>Û∞ñÅ</span> {volume}%",
    "format-icons": {
      "headphone": "Û∞ãã",
      "phone": "Û∞è≤",
      "portable": "Û∞è≤",
      "default": ["Û∞ïø", "Û∞ñÄ", "Û∞ïæ"],
    },
    "on-click": "pavucontrol",
  },
  "clock": {
    "timezone": "US/Eastern",
    "format": "<span color='#ffcb6b'>Û∞•î</span> {:%a %b %d %R %p}",
    "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>",
    "on-click": "kitty calcurse",
  },
  "custom/notification": {
    "tooltip": false,
    "format": "üòπ",
    "return-type": "json",
    "exec-if": "which swaync-client",
    "exec": "swaync-client -swb",
    "on-click": "swaync-client -t -sw",
    "on-click-right": "swaync-client -d -sw",
    "escape": true
  },
  "custom/startpanel": {
    "tooltip": false,
    "format": "Û∞£á ",
    "return-type": "json",
    "on-click": "source ~/fabric/venv/bin/activate && python ~/.config/fabric/startpanel/spawner.py",
    "escape": true
  },

  "custom/pacman": {
    "format": "<span color='#a6d189'> Û∞ö∞</span> {}",
  	"interval": 3600,                     // every hour
  	"exec": "checkupdates | wc -l",       // # of updates
  	"exec-if": "exit 0",                  // always run; consider advanced run conditions
  	"on-click": "termite -e 'sudo pacman -Syu'; pkill -SIGRTMIN+8 waybar", // update system
  	"signal": 8
  },

  "custom/turbo": {
    "format": "<span color='#e78284'>Û±Äö</span> {}",
    "interval": 2,
    "exec": "[[ $(cat /sys/devices/system/cpu/cpu0/cpufreq/boost) -eq 1 ]] && echo 'on' || echo 'off'",
    "tooltip-format": "turbo boost status",
  },
}
